<% content_for :optional_resources do %>
	<%= javascript_include_tag '/assets/global/global' %>
	<%= javascript_include_tag '/assets/activity/timeline' %>
	<%= stylesheet_link_tag '/assets/activity/timeline'%>
	
	<%= javascript_tag do %>
		var lang = {
			yearHeader: "<%= t 'page.year.header' %>",
			yearContent: "<%= t 'page.year.content' %>",
			monthHeader: "<%= t 'page.month.header' %>",
			monthContent: "<%= t 'page.month.content' %>",
			dayHeader: "<%= t 'page.day.header' %>",
			dayContentPublish: "<%= t 'page.day.content.publish' %>",
			dayContentEdit: "<%= t 'page.day.content.edit' %>"
		};
	
		$(function() {
			timeline.initialize();
		});
	<% end %>
<% end %>

<div id="activityTimeline" class="activity-timeline">
	<div class="activity-header">
		<h2>想想的点滴生活</h2>
		<span class="downward-arrow"></span>
	</div>
	<div class="activity-content">
		<% @year_count_map.each do |k, v| %>
			<div class="activity-tag activity-year activity-tag-collapsed" data-year="<%= k %>">
				<div class="activity-tag-header">
					<h3><%= t('timeline.year.header', year: k) %></h3>
					<span class="rightward-arrow"></span>
				</div>
				<div class="activity-tag-content">
					<p><%= t('timeline.year.content', count: v) %></p>
					<div class="activity-tag-indicator">
						<div class="activity-tag-indicator-circle"></div>
						<div class="activity-tag-indicator-line"></div>
					</div>
				</div>
			</div>
		<% end %>
	</div>
	<div class="activity-footer"></div>
</div>
